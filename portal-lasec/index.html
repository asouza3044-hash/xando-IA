<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal LASEC | Sistema Integrado de Or√ßamentos CNC</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Configura√ß√£o Tailwind personalizada -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'lasec-primary': '#1e40af',
                        'lasec-secondary': '#3b82f6',
                        'lasec-accent': '#60a5fa',
                        'lasec-success': '#10b981',
                        'lasec-warning': '#f59e0b',
                        'lasec-danger': '#ef4444',
                        'lasec-dark': '#1f2937',
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(30, 64, 175, 0.2);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        .sidebar-active {
            background: rgba(30, 64, 175, 0.1);
            color: #1e40af;
            font-weight: 600;
            border-left: 4px solid #1e40af;
        }

        .section-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-number {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .flow-arrow {
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 20px solid #3b82f6;
            margin: 0 auto;
        }

        .formula-box {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1));
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 0.5rem 0;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
            color: #ef4444;
        }

        pre {
            font-family: 'JetBrains Mono', monospace;
            background: #1f2937;
            color: #e5e7eb;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .accordion-content.active {
            max-height: 1000px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            width: 90%;
            height: 90%;
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading {
            animation: pulse 1.5s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- NAVBAR -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-full mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center cursor-pointer" onclick="showSection('home')">
                        <div class="w-10 h-10 bg-lasec-primary rounded-lg flex items-center justify-center mr-3">
                            <span class="text-white font-bold text-xl">L</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-lasec-primary">PORTAL LASEC</h1>
                            <p class="text-xs text-gray-500">Sistema Integrado de Or√ßamentos CNC</p>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="text-sm font-semibold text-gray-700">Usu√°rio LASEC</p>
                        <p class="text-xs text-gray-500">Administrador</p>
                    </div>
                    <div class="w-10 h-10 bg-lasec-primary rounded-full flex items-center justify-center">
                        <span class="text-white font-bold">U</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- SIDEBAR -->
        <aside class="w-64 bg-white shadow-lg h-screen sticky top-16 overflow-y-auto">
            <div class="p-6">
                <nav class="space-y-2" id="sidebar-nav">
                    <a onclick="showSection('home')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üè†</span>
                        <span>Home</span>
                    </a>
                    <a onclick="showSection('dashboard')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üìä</span>
                        <span>Dashboard</span>
                    </a>
                    <a onclick="showSection('documentacao')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üìñ</span>
                        <span>Documenta√ß√£o</span>
                    </a>
                    <a onclick="showSection('orcamentos')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üéØ</span>
                        <span>Portal Or√ßamentos</span>
                    </a>
                    <a onclick="showSection('database')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üîç</span>
                        <span>Consulta Database</span>
                    </a>
                </nav>

                <hr class="my-6">

                <div class="space-y-2">
                    <p class="px-4 text-xs font-semibold text-gray-500 uppercase">A√ß√µes R√°pidas</p>
                    <a onclick="showSection('novo-orcamento')" class="sidebar-link flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">‚ûï</span>
                        <span>Novo Or√ßamento</span>
                    </a>
                    <a onclick="alert('Fun√ß√£o: Gerar relat√≥rio')" class="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">üìÑ</span>
                        <span>Gerar Relat√≥rio</span>
                    </a>
                    <a onclick="alert('Fun√ß√£o: Configura√ß√µes')" class="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition cursor-pointer">
                        <span class="mr-3 text-xl">‚öôÔ∏è</span>
                        <span>Configura√ß√µes</span>
                    </a>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="flex-1">

            <!-- ========================================
                 SE√á√ÉO HOME
                 ======================================== -->
            <section id="home" class="section-content active">

                <!-- HERO SECTION -->
                <div class="gradient-bg text-white py-20 lg:py-32">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="grid lg:grid-cols-2 gap-12 items-center">
                            <div>
                                <div class="inline-block bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
                                    <span class="text-sm font-semibold">üöÄ Vers√£o 2.3.0 - Atualizado Janeiro 2026</span>
                                </div>

                                <h1 class="text-5xl lg:text-6xl font-bold mb-6 leading-tight">
                                    Or√ßamentos CNC<br/>
                                    <span class="text-blue-200">Profissionais em</span><br/>
                                    Minutos
                                </h1>

                                <p class="text-xl text-blue-100 mb-8 leading-relaxed">
                                    Sistema completo de gest√£o de or√ßamentos para usinagem CNC.
                                    Integra√ß√£o com banco de dados, an√°lise de custos, gera√ß√£o autom√°tica
                                    de propostas comerciais e muito mais.
                                </p>

                                <div class="flex flex-wrap gap-4">
                                    <button onclick="showSection('novo-orcamento')" class="bg-white text-lasec-primary px-8 py-4 rounded-lg font-bold text-lg hover:bg-blue-50 transition shadow-xl">
                                        Criar Novo Or√ßamento
                                    </button>
                                    <button onclick="showSection('documentacao')" class="bg-white/10 backdrop-blur-sm border-2 border-white text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-white/20 transition">
                                        Ver Demonstra√ß√£o
                                    </button>
                                </div>
                            </div>

                            <div class="hidden lg:block">
                                <div class="relative">
                                    <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl float-animation">
                                        <div class="space-y-4">
                                            <div class="bg-white/20 h-4 w-3/4 rounded"></div>
                                            <div class="bg-white/20 h-4 w-full rounded"></div>
                                            <div class="bg-white/20 h-4 w-5/6 rounded"></div>
                                            <div class="grid grid-cols-3 gap-4 mt-6">
                                                <div class="bg-lasec-success/30 h-20 rounded-lg"></div>
                                                <div class="bg-lasec-warning/30 h-20 rounded-lg"></div>
                                                <div class="bg-lasec-accent/30 h-20 rounded-lg"></div>
                                            </div>
                                            <div class="bg-white/20 h-32 rounded-lg mt-4"></div>
                                        </div>
                                    </div>

                                    <div class="absolute -top-4 -right-4 bg-lasec-success text-white px-4 py-2 rounded-full shadow-lg font-bold">
                                        ‚úì Aprovado
                                    </div>
                                    <div class="absolute bottom-4 -left-4 bg-white text-lasec-primary px-4 py-2 rounded-full shadow-lg font-bold">
                                        üìä Analytics
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ESTAT√çSTICAS R√ÅPIDAS -->
                <div class="py-16 bg-white">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                            <div class="text-center">
                                <div class="stat-number">015+</div>
                                <p class="text-gray-600 font-semibold mt-2">Or√ßamentos Criados</p>
                            </div>
                            <div class="text-center">
                                <div class="stat-number">04</div>
                                <p class="text-gray-600 font-semibold mt-2">M√≥dulos Integrados</p>
                            </div>
                            <div class="text-center">
                                <div class="stat-number">06</div>
                                <p class="text-gray-600 font-semibold mt-2">Documentos Autom√°ticos</p>
                            </div>
                            <div class="text-center">
                                <div class="stat-number">99%</div>
                                <p class="text-gray-600 font-semibold mt-2">Precis√£o de Custos</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- M√ìDULOS PRINCIPAIS -->
                <div class="py-20 bg-gray-50">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="text-center mb-16">
                            <h2 class="text-4xl font-bold text-lasec-dark mb-4">M√≥dulos do Sistema</h2>
                            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                                Plataforma completa para gest√£o de or√ßamentos, an√°lise de dados e tomada de decis√µes estrat√©gicas
                            </p>
                        </div>

                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">

                            <!-- M√ìDULO 1: Dashboard -->
                            <div class="bg-white rounded-xl shadow-lg p-8 card-hover border-t-4 border-lasec-primary">
                                <div class="bg-blue-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6">
                                    <span class="text-3xl">üìä</span>
                                </div>
                                <h3 class="text-2xl font-bold text-lasec-dark mb-3">Dashboard</h3>
                                <p class="text-gray-600 mb-6 leading-relaxed">
                                    M√©tricas em tempo real: or√ßamentos, tempos de fabrica√ß√£o, custos m√©dios e an√°lise de margens.
                                </p>
                                <ul class="space-y-2 mb-6">
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Gr√°ficos interativos
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> KPIs por m√°quina
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> An√°lise de tend√™ncias
                                    </li>
                                </ul>
                                <button onclick="showSection('dashboard')" class="w-full bg-lasec-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-800 transition">
                                    Acessar Dashboard
                                </button>
                            </div>

                            <!-- M√ìDULO 2: Documenta√ß√£o -->
                            <div class="bg-white rounded-xl shadow-lg p-8 card-hover border-t-4 border-lasec-success">
                                <div class="bg-green-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6">
                                    <span class="text-3xl">üìñ</span>
                                </div>
                                <h3 class="text-2xl font-bold text-lasec-dark mb-3">Documenta√ß√£o</h3>
                                <p class="text-gray-600 mb-6 leading-relaxed">
                                    Guia completo: fluxo dos 6 documentos, f√≥rmulas, m√°quinas, hora-m√°quina e FAQ detalhado.
                                </p>
                                <ul class="space-y-2 mb-6">
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Fluxo interativo
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Tabelas de f√≥rmulas
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Guia passo a passo
                                    </li>
                                </ul>
                                <button onclick="showSection('documentacao')" class="w-full bg-lasec-success text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition">
                                    Ver Documenta√ß√£o
                                </button>
                            </div>

                            <!-- M√ìDULO 3: Portal de Or√ßamentos -->
                            <div class="bg-white rounded-xl shadow-lg p-8 card-hover border-t-4 border-lasec-warning">
                                <div class="bg-yellow-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6">
                                    <span class="text-3xl">üéØ</span>
                                </div>
                                <h3 class="text-2xl font-bold text-lasec-dark mb-3">Portal</h3>
                                <p class="text-gray-600 mb-6 leading-relaxed">
                                    Galeria completa de or√ßamentos criados com filtros avan√ßados, visualiza√ß√£o e download PDF.
                                </p>
                                <ul class="space-y-2 mb-6">
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Galeria visual
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Filtros inteligentes
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Download PDF
                                    </li>
                                </ul>
                                <button onclick="showSection('orcamentos')" class="w-full bg-lasec-warning text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition">
                                    Ver Or√ßamentos
                                </button>
                            </div>

                            <!-- M√ìDULO 4: Database -->
                            <div class="bg-white rounded-xl shadow-lg p-8 card-hover border-t-4 border-lasec-danger">
                                <div class="bg-red-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6">
                                    <span class="text-3xl">üîç</span>
                                </div>
                                <h3 class="text-2xl font-bold text-lasec-dark mb-3">Database</h3>
                                <p class="text-gray-600 mb-6 leading-relaxed">
                                    Consulta PostgreSQL: hist√≥rico de vendas, an√°lise de custos, composi√ß√£o BOM e alertas de preju√≠zo.
                                </p>
                                <ul class="space-y-2 mb-6">
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Busca inteligente
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Alertas autom√°ticos
                                    </li>
                                    <li class="flex items-center text-sm text-gray-700">
                                        <span class="text-lasec-success mr-2">‚úì</span> Exporta√ß√£o Excel
                                    </li>
                                </ul>
                                <button onclick="showSection('database')" class="w-full bg-lasec-danger text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition">
                                    Consultar Base
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- CALL TO ACTION -->
                <div class="py-20 gradient-bg text-white">
                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                        <h2 class="text-4xl lg:text-5xl font-bold mb-6">
                            Pronto para Revolucionar<br/>Seus Or√ßamentos?
                        </h2>
                        <p class="text-xl text-blue-100 mb-10">
                            Comece agora a criar or√ßamentos profissionais em minutos com an√°lise completa de custos e margens
                        </p>
                        <div class="flex flex-wrap justify-center gap-4">
                            <button onclick="showSection('novo-orcamento')" class="bg-white text-lasec-primary px-10 py-5 rounded-lg font-bold text-lg hover:bg-blue-50 transition shadow-xl">
                                üöÄ Criar Primeiro Or√ßamento
                            </button>
                            <button onclick="showSection('documentacao')" class="bg-white/10 backdrop-blur-sm border-2 border-white text-white px-10 py-5 rounded-lg font-bold text-lg hover:bg-white/20 transition">
                                üìû Ver Documenta√ß√£o
                            </button>
                        </div>
                    </div>
                </div>

                <!-- FOOTER -->
                <footer class="bg-gray-900 text-white py-12">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="grid md:grid-cols-4 gap-8 mb-8">
                            <div>
                                <div class="flex items-center mb-4">
                                    <div class="w-10 h-10 bg-lasec-primary rounded-lg flex items-center justify-center mr-2">
                                        <span class="text-white font-bold text-xl">L</span>
                                    </div>
                                    <span class="font-bold text-xl">PORTAL LASEC</span>
                                </div>
                                <p class="text-gray-400 text-sm">
                                    Sistema integrado de or√ßamentos para usinagem CNC profissional
                                </p>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4">M√≥dulos</h4>
                                <ul class="space-y-2 text-gray-400 text-sm">
                                    <li><a onclick="showSection('dashboard')" class="hover:text-white transition cursor-pointer">Dashboard</a></li>
                                    <li><a onclick="showSection('documentacao')" class="hover:text-white transition cursor-pointer">Documenta√ß√£o</a></li>
                                    <li><a onclick="showSection('orcamentos')" class="hover:text-white transition cursor-pointer">Portal</a></li>
                                    <li><a onclick="showSection('database')" class="hover:text-white transition cursor-pointer">Database</a></li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4">Recursos</h4>
                                <ul class="space-y-2 text-gray-400 text-sm">
                                    <li><a onclick="showSection('documentacao')" class="hover:text-white transition cursor-pointer">Guia de Uso</a></li>
                                    <li><a onclick="showSection('documentacao')" class="hover:text-white transition cursor-pointer">FAQ</a></li>
                                    <li><a href="#" class="hover:text-white transition">API Docs</a></li>
                                    <li><a href="#" class="hover:text-white transition">Suporte</a></li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4">Contato</h4>
                                <ul class="space-y-2 text-gray-400 text-sm">
                                    <li>üìß contato@lasec.com.br</li>
                                    <li>üìû (XX) XXXX-XXXX</li>
                                    <li>üìç Endere√ßo LASEC</li>
                                </ul>
                            </div>
                        </div>

                        <div class="border-t border-gray-800 pt-8 text-center text-gray-400 text-sm">
                            <p>&copy; 2026 LASEC. Todos os direitos reservados. | Vers√£o 2.3.0 | Desenvolvido com ‚ù§Ô∏è para usinagem CNC de precis√£o</p>
                        </div>
                    </div>
                </footer>

            </section>

            <!-- ========================================
                 SE√á√ÉO DASHBOARD
                 ======================================== -->
            <section id="dashboard" class="section-content">
                <div class="p-8">
                    <!-- HEADER -->
                    <div class="mb-8">
                        <div class="flex justify-between items-center">
                            <div>
                                <h2 class="text-3xl font-bold text-lasec-dark">Dashboard Analytics</h2>
                                <p class="text-gray-600 mt-1">Vis√£o geral dos or√ßamentos e m√©tricas de performance</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                    <option>√öltimos 30 dias</option>
                                    <option>√öltimos 90 dias</option>
                                    <option>Este ano (2026)</option>
                                    <option>2025</option>
                                </select>
                                <button class="bg-lasec-primary text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-800 transition">
                                    Atualizar Dados
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- KPI CARDS -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-xl shadow-lg p-6 card-hover border-l-4 border-lasec-primary">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-semibold text-gray-600 mb-1">Total Or√ßamentos</p>
                                    <h3 class="text-3xl font-bold text-lasec-dark">015</h3>
                                    <p class="text-sm text-lasec-success mt-2">
                                        <span class="font-semibold">‚Üë 12%</span> vs m√™s anterior
                                    </p>
                                </div>
                                <div class="bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center">
                                    <span class="text-2xl">üìä</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-hover border-l-4 border-lasec-success">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-semibold text-gray-600 mb-1">Custo M√©dio (Lote 100)</p>
                                    <h3 class="text-3xl font-bold text-lasec-dark">R$ 68,45</h3>
                                    <p class="text-sm text-gray-500 mt-2">
                                        Range: R$ 32 - R$ 145
                                    </p>
                                </div>
                                <div class="bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center">
                                    <span class="text-2xl">üí∞</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-hover border-l-4 border-lasec-warning">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-semibold text-gray-600 mb-1">Tempo M√©dio/Pe√ßa</p>
                                    <h3 class="text-3xl font-bold text-lasec-dark">18 min</h3>
                                    <p class="text-sm text-gray-500 mt-2">
                                        Setup m√©dio: 1.2h
                                    </p>
                                </div>
                                <div class="bg-yellow-100 w-12 h-12 rounded-lg flex items-center justify-center">
                                    <span class="text-2xl">‚è±Ô∏è</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-hover border-l-4 border-lasec-danger">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-semibold text-gray-600 mb-1">Margem M√©dia</p>
                                    <h3 class="text-3xl font-bold text-lasec-dark">36%</h3>
                                    <p class="text-sm text-lasec-success mt-2">
                                        <span class="font-semibold">‚úì Saud√°vel</span> (target: 35%)
                                    </p>
                                </div>
                                <div class="bg-red-100 w-12 h-12 rounded-lg flex items-center justify-center">
                                    <span class="text-2xl">üìà</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- GR√ÅFICOS -->
                    <div class="grid lg:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-lasec-dark mb-6">Or√ßamentos por M√™s (2025-2026)</h3>
                            <canvas id="chartOrcamentosMes" height="250"></canvas>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-lasec-dark mb-6">Distribui√ß√£o por Cliente</h3>
                            <canvas id="chartClientes" height="250"></canvas>
                        </div>
                    </div>

                    <!-- TABELA OR√áAMENTOS -->
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-lasec-dark mb-6">√öltimos Or√ßamentos Criados</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">N¬∫</th>
                                        <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">Cliente</th>
                                        <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">C√≥digo Pe√ßa</th>
                                        <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">Material</th>
                                        <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">M√°quina</th>
                                        <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Tempo</th>
                                        <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Pre√ßo (100un)</th>
                                        <th class="text-center py-3 px-4 font-semibold text-sm text-gray-600">Status</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <tr class="hover:bg-gray-50 transition">
                                        <td class="py-4 px-4 font-mono text-sm">015</td>
                                        <td class="py-4 px-4 font-semibold">RFS Industrial</td>
                                        <td class="py-4 px-4 font-mono text-sm">9005032</td>
                                        <td class="py-4 px-4 text-sm">PMMA</td>
                                        <td class="py-4 px-4 text-sm">GL280</td>
                                        <td class="py-4 px-4 text-right font-mono text-sm">12 min</td>
                                        <td class="py-4 px-4 text-right font-bold text-lasec-primary">R$ 45,30</td>
                                        <td class="py-4 px-4 text-center">
                                            <span class="bg-lasec-success text-white px-3 py-1 rounded-full text-xs font-semibold">Aprovado</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 transition">
                                        <td class="py-4 px-4 font-mono text-sm">014</td>
                                        <td class="py-4 px-4 font-semibold">LASEC</td>
                                        <td class="py-4 px-4 font-mono text-sm">RFS_9005032</td>
                                        <td class="py-4 px-4 text-sm">PMMA</td>
                                        <td class="py-4 px-4 text-sm">GL280</td>
                                        <td class="py-4 px-4 text-right font-mono text-sm">14 min</td>
                                        <td class="py-4 px-4 text-right font-bold text-lasec-primary">R$ 52,80</td>
                                        <td class="py-4 px-4 text-center">
                                            <span class="bg-lasec-primary text-white px-3 py-1 rounded-full text-xs font-semibold">Em An√°lise</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 transition">
                                        <td class="py-4 px-4 font-mono text-sm">012</td>
                                        <td class="py-4 px-4 font-semibold">BBOX</td>
                                        <td class="py-4 px-4 font-mono text-sm">PP01_00003</td>
                                        <td class="py-4 px-4 text-sm">A√ßo SAE 1045</td>
                                        <td class="py-4 px-4 text-sm">Doosan Lynx 220LM</td>
                                        <td class="py-4 px-4 text-right font-mono text-sm">28 min</td>
                                        <td class="py-4 px-4 text-right font-bold text-lasec-primary">R$ 142,60</td>
                                        <td class="py-4 px-4 text-center">
                                            <span class="bg-lasec-success text-white px-3 py-1 rounded-full text-xs font-semibold">Aprovado</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========================================
                 SE√á√ÉO DOCUMENTA√á√ÉO (parte 1 - continuarei no pr√≥ximo bloco)
                 ======================================== -->
            <section id="documentacao" class="section-content">
                <div class="p-8">
                    <div class="bg-gradient-to-r from-blue-600 to-blue-400 rounded-2xl p-10 mb-8 text-white shadow-xl">
                        <h1 class="text-4xl font-bold mb-4">üìñ Documenta√ß√£o Completa</h1>
                        <p class="text-xl text-blue-100 mb-6">
                            Tudo o que voc√™ precisa saber sobre o Agente Or√ßamento LASEC - Vers√£o 2.3.0
                        </p>
                        <div class="flex gap-4">
                            <div class="bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg">
                                <span class="font-semibold">6 Documentos Autom√°ticos</span>
                            </div>
                            <div class="bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg">
                                <span class="font-semibold">4 M√°quinas CNC</span>
                            </div>
                            <div class="bg-white/20 backdrop-blur-sm px-6 py-3 rounded-lg">
                                <span class="font-semibold">100% Padronizado</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <h2 class="text-3xl font-bold text-lasec-dark mb-6">üîÑ Fluxo dos 6 Documentos</h2>
                        <p class="text-gray-600 mb-6">Pipeline completo de gera√ß√£o de or√ßamentos - sequencial e com gate de aprova√ß√£o</p>

                        <div class="space-y-6">
                            <div class="bg-white border-l-4 border-lasec-primary rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">1</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">PROCESSO_FABRICACAO</h3>
                                        <p class="text-sm text-lasec-primary font-semibold mb-3">‚ö†Ô∏è GATE DE APROVA√á√ÉO OBRIGAT√ìRIO</p>
                                        <p class="text-gray-700 mb-4">
                                            Documento t√©cnico detalhado com todas as opera√ß√µes de fabrica√ß√£o, ferramentas, pastilhas,
                                            par√¢metros de corte e cronometragem completa.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-arrow"></div>

                            <div class="bg-white border-l-4 border-lasec-success rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">2</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">ESTUDO_CUSTO_FABRICACAO</h3>
                                        <p class="text-gray-700">
                                            C√°lculo detalhado de custos para m√∫ltiplos lotes (PILOTO, 30, 50, 100, 200, 500 pe√ßas).
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-arrow"></div>

                            <div class="bg-white border-l-4 border-lasec-warning rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">3</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">ESTUDO_PRECO_VENDA_NFE</h3>
                                        <p class="text-gray-700">
                                            Precifica√ß√£o comercial com markup, perdas e impostos do Simples Nacional.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-arrow"></div>

                            <div class="bg-white border-l-4 border-purple-500 rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">4</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">ANALISE_VIABILIDADE_LOTES</h3>
                                        <p class="text-gray-700">
                                            Compara√ß√£o entre lotes, economia percentual e recomenda√ß√£o de lote ideal.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-arrow"></div>

                            <div class="bg-white border-l-4 border-pink-500 rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">5</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">ANALISE_BREAK_EVEN</h3>
                                        <p class="text-gray-700">
                                            C√°lculo do ponto de equil√≠brio - quando o investimento extra em lote maior se paga.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="flow-arrow"></div>

                            <div class="bg-white border-l-4 border-lasec-danger rounded-lg p-6 shadow">
                                <div class="flex items-start gap-6">
                                    <div class="step-number">6</div>
                                    <div class="flex-1">
                                        <h3 class="text-2xl font-bold text-lasec-dark mb-2">PROPOSTA_COMERCIAL</h3>
                                        <p class="text-gray-700">
                                            Documento final para apresenta√ß√£o ao cliente - limpo e profissional, SEM dados confidenciais.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <h2 class="text-3xl font-bold text-lasec-dark mb-6">üßÆ F√≥rmulas LASEC 2025</h2>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b-2 border-gray-200">
                                        <th class="text-left py-4 px-4 font-bold text-gray-700">Componente</th>
                                        <th class="text-left py-4 px-4 font-bold text-gray-700">F√≥rmula</th>
                                        <th class="text-left py-4 px-4 font-bold text-gray-700">Descri√ß√£o</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-primary">Setup</td>
                                        <td class="py-4 px-4 mono text-sm bg-gray-50 rounded">Setup_horas √ó Hora_m√°quina</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">Custo fixo de prepara√ß√£o</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-primary">MOD</td>
                                        <td class="py-4 px-4 mono text-sm bg-gray-50 rounded">(Qtd √ó Tempo_min) √∑ 60 √ó Hora_m√°q</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">Custo vari√°vel de produ√ß√£o</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-primary">CIF</td>
                                        <td class="py-4 px-4 mono text-sm bg-gray-50 rounded">(Setup + MOD) √ó 0,58</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">58% custos indiretos</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-warning">Perdas</td>
                                        <td class="py-4 px-4 mono text-sm bg-yellow-100 rounded">Custo_Unit √ó 1,02</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">2% de perdas</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-success">Markup</td>
                                        <td class="py-4 px-4 mono text-sm bg-green-100 rounded">Custo_com_Perdas √ó 1,35</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">35% margem</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-4 px-4 font-semibold text-lasec-secondary">Impostos</td>
                                        <td class="py-4 px-4 mono text-sm bg-blue-100 rounded">Pre√ßo_sem_Imp √ó 1,10</td>
                                        <td class="py-4 px-4 text-sm text-gray-600">10% Simples Nacional</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========================================
                 SE√á√ÉO OR√áAMENTOS
                 ======================================== -->
            <section id="orcamentos" class="section-content">
                <div class="p-8">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-lasec-dark mb-2">üéØ Portal de Or√ßamentos</h2>
                        <p class="text-gray-600">Galeria completa de or√ßamentos criados com visualiza√ß√£o e download</p>
                    </div>

                    <!-- FILTROS -->
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                        <div class="grid lg:grid-cols-4 gap-4">
                            <div class="lg:col-span-2">
                                <label class="block text-sm font-semibold text-gray-700 mb-2">üîç Buscar</label>
                                <input type="text" placeholder="Cliente, c√≥digo pe√ßa, material..."
                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Cliente</label>
                                <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                    <option>Todos</option>
                                    <option>BBOX</option>
                                    <option>LIVENZA</option>
                                    <option>RFS</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Status</label>
                                <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                    <option>Todos</option>
                                    <option>Aprovado</option>
                                    <option>Em An√°lise</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- GALERIA -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white rounded-xl shadow-lg overflow-hidden card-hover">
                            <div class="bg-gradient-to-r from-blue-500 to-blue-400 px-6 py-4 flex justify-between items-center">
                                <div>
                                    <p class="text-white text-sm font-semibold opacity-90">Or√ßamento</p>
                                    <h3 class="text-white text-3xl font-bold">015/2025</h3>
                                </div>
                                <span class="bg-lasec-success text-white px-3 py-1 rounded-full text-xs font-bold">Aprovado</span>
                            </div>
                            <div class="p-6">
                                <h4 class="font-bold text-lasec-dark text-xl mb-2">RFS Industrial</h4>
                                <div class="space-y-2 text-sm text-gray-600 mb-4">
                                    <div class="flex justify-between">
                                        <span>C√≥digo:</span>
                                        <span class="font-mono font-semibold">9005032</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Material:</span>
                                        <span class="font-semibold">PMMA</span>
                                    </div>
                                </div>
                                <div class="bg-blue-50 rounded-lg p-3 mb-4">
                                    <p class="text-xs text-gray-600 mb-1">Pre√ßo Recomendado (Lote 100)</p>
                                    <p class="text-2xl font-bold text-lasec-primary">R$ 45,30/p√ß</p>
                                </div>
                                <button onclick="alert('Visualizar or√ßamento 015')" class="w-full bg-lasec-primary text-white py-2 rounded-lg font-semibold hover:bg-blue-800 transition">
                                    üëÅÔ∏è Visualizar
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg overflow-hidden card-hover">
                            <div class="bg-gradient-to-r from-green-500 to-green-400 px-6 py-4 flex justify-between items-center">
                                <div>
                                    <p class="text-white text-sm font-semibold opacity-90">Or√ßamento</p>
                                    <h3 class="text-white text-3xl font-bold">012/2025</h3>
                                </div>
                                <span class="bg-lasec-success text-white px-3 py-1 rounded-full text-xs font-bold">Aprovado</span>
                            </div>
                            <div class="p-6">
                                <h4 class="font-bold text-lasec-dark text-xl mb-2">BBOX</h4>
                                <div class="space-y-2 text-sm text-gray-600 mb-4">
                                    <div class="flex justify-between">
                                        <span>C√≥digo:</span>
                                        <span class="font-mono font-semibold">PP01_00003</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Material:</span>
                                        <span class="font-semibold">A√ßo SAE 1045</span>
                                    </div>
                                </div>
                                <div class="bg-green-50 rounded-lg p-3 mb-4">
                                    <p class="text-xs text-gray-600 mb-1">Pre√ßo Recomendado (Lote 100)</p>
                                    <p class="text-2xl font-bold text-lasec-success">R$ 142,60/p√ß</p>
                                </div>
                                <button onclick="alert('Visualizar or√ßamento 012')" class="w-full bg-lasec-success text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition">
                                    üëÅÔ∏è Visualizar
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg overflow-hidden card-hover">
                            <div class="bg-gradient-to-r from-purple-500 to-purple-400 px-6 py-4 flex justify-between items-center">
                                <div>
                                    <p class="text-white text-sm font-semibold opacity-90">Or√ßamento</p>
                                    <h3 class="text-white text-3xl font-bold">009/2025</h3>
                                </div>
                                <span class="bg-lasec-success text-white px-3 py-1 rounded-full text-xs font-bold">Aprovado</span>
                            </div>
                            <div class="p-6">
                                <h4 class="font-bold text-lasec-dark text-xl mb-2">LIVENZA</h4>
                                <div class="space-y-2 text-sm text-gray-600 mb-4">
                                    <div class="flex justify-between">
                                        <span>C√≥digo:</span>
                                        <span class="font-mono font-semibold">1.0055.0105650</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Material:</span>
                                        <span class="font-semibold">A√ßo SAE 8620</span>
                                    </div>
                                </div>
                                <div class="bg-purple-50 rounded-lg p-3 mb-4">
                                    <p class="text-xs text-gray-600 mb-1">Pre√ßo Recomendado (Lote 100)</p>
                                    <p class="text-2xl font-bold text-purple-700">R$ 168,90/p√ß</p>
                                </div>
                                <button onclick="alert('Visualizar or√ßamento 009')" class="w-full bg-purple-600 text-white py-2 rounded-lg font-semibold hover:bg-purple-700 transition">
                                    üëÅÔ∏è Visualizar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========================================
                 SE√á√ÉO DATABASE
                 ======================================== -->
            <section id="database" class="section-content">
                <div class="p-8">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-lasec-dark mb-2">üîç Consulta Database PostgreSQL</h2>
                        <p class="text-gray-600">Busca hist√≥rica de pe√ßas, an√°lise de custos e detec√ß√£o de preju√≠zos</p>
                    </div>

                    <!-- BUSCA -->
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                        <div class="grid lg:grid-cols-3 gap-4">
                            <div class="lg:col-span-2">
                                <label class="block text-sm font-semibold text-gray-700 mb-2">üîç C√≥digo da Pe√ßa</label>
                                <input id="searchInputDb" type="text" placeholder="Ex: 9005032, 1.0055.0105650..."
                                       class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary text-lg">
                            </div>
                            <div class="flex items-end">
                                <button onclick="performSearchDb()" class="w-full bg-lasec-primary text-white py-3 rounded-lg font-bold text-lg hover:bg-blue-800 transition shadow-lg">
                                    Buscar Hist√≥rico
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- EMPTY STATE -->
                    <div id="emptyStateDb" class="text-center py-20">
                        <div class="text-6xl mb-6">üîç</div>
                        <h3 class="text-2xl font-bold text-lasec-dark mb-4">Busque uma Pe√ßa no Banco de Dados</h3>
                        <p class="text-gray-600 mb-8 max-w-2xl mx-auto">
                            Digite o c√≥digo de uma pe√ßa para visualizar hist√≥rico completo de vendas,
                            an√°lise de custos, composi√ß√£o BOM e alertas de preju√≠zo.
                        </p>
                        <div class="flex gap-4 justify-center">
                            <button onclick="searchDbPiece('9005032')" class="px-6 py-3 bg-lasec-primary text-white rounded-lg font-semibold hover:bg-blue-800 transition">
                                Exemplo: 9005032
                            </button>
                            <button onclick="searchDbPiece('1.0055.0105650')" class="px-6 py-3 bg-lasec-success text-white rounded-lg font-semibold hover:bg-green-700 transition">
                                Exemplo: 1.0055.0105650
                            </button>
                        </div>
                    </div>

                    <!-- RESULTADOS (oculto inicialmente) -->
                    <div id="resultsDb" class="hidden">
                        <div class="bg-red-50 border-l-4 border-red-500 rounded-lg p-6 mb-8">
                            <div class="flex items-start gap-4">
                                <span class="text-4xl">‚ö†Ô∏è</span>
                                <div>
                                    <h3 class="text-2xl font-bold text-red-900 mb-3">ALERTA: PREJU√çZO DETECTADO</h3>
                                    <p class="text-red-800 mb-4">
                                        Hist√≥rico mostra <strong>2 de 5 vendas (40%)</strong> desta pe√ßa com MARGEM NEGATIVA.
                                    </p>
                                    <div class="bg-white rounded-lg p-4">
                                        <h4 class="font-bold text-red-900 mb-3">üìä Resumo Financeiro:</h4>
                                        <div class="grid md:grid-cols-3 gap-4 text-sm">
                                            <div>
                                                <p class="text-gray-600">Custo Unit√°rio M√©dio</p>
                                                <p class="text-xl font-bold text-red-700">R$ 62,30</p>
                                            </div>
                                            <div>
                                                <p class="text-gray-600">Pre√ßo de Venda M√©dio</p>
                                                <p class="text-xl font-bold text-red-700">R$ 58,50</p>
                                            </div>
                                            <div>
                                                <p class="text-gray-600">Preju√≠zo por Pe√ßa</p>
                                                <p class="text-xl font-bold text-red-900">R$ 3,80</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-lasec-dark mb-6">üìã Hist√≥rico de Vendas</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b-2 border-gray-200">
                                            <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">Pedido</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm text-gray-600">Data</th>
                                            <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Qtd</th>
                                            <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Pre√ßo Venda</th>
                                            <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Custo Unit.</th>
                                            <th class="text-right py-3 px-4 font-semibold text-sm text-gray-600">Margem %</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-100">
                                        <tr class="hover:bg-gray-50">
                                            <td class="py-4 px-4 font-mono text-sm">12345</td>
                                            <td class="py-4 px-4 text-sm">15/11/2025</td>
                                            <td class="py-4 px-4 text-right font-mono text-sm">50</td>
                                            <td class="py-4 px-4 text-right font-bold text-lasec-primary">R$ 85,50</td>
                                            <td class="py-4 px-4 text-right font-mono text-sm">R$ 62,30</td>
                                            <td class="py-4 px-4 text-right">
                                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-bold">+37,2%</span>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-50 bg-red-50">
                                            <td class="py-4 px-4 font-mono text-sm">12346</td>
                                            <td class="py-4 px-4 text-sm">20/11/2025</td>
                                            <td class="py-4 px-4 text-right font-mono text-sm">30</td>
                                            <td class="py-4 px-4 text-right font-bold text-red-600">R$ 48,00</td>
                                            <td class="py-4 px-4 text-right font-mono text-sm">R$ 58,40</td>
                                            <td class="py-4 px-4 text-right">
                                                <span class="bg-red-200 text-red-900 px-2 py-1 rounded text-xs font-bold">-17,8%</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========================================
                 SE√á√ÉO NOVO OR√áAMENTO
                 ======================================== -->
            <section id="novo-orcamento" class="section-content">
                <div class="gradient-bg text-white py-12">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="flex items-center justify-between">
                            <div>
                                <h1 class="text-4xl font-bold mb-2">Novo Or√ßamento</h1>
                                <p class="text-blue-200">Envie o desenho em PDF e o agente extrai todas as informa√ß√µes</p>
                            </div>
                            <div class="text-6xl">ü§ñ</div>
                        </div>
                    </div>
                </div>

                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

                    <!-- √ÅREA PRINCIPAL: UPLOAD PDF -->
                    <div id="uploadArea" class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                        <div class="text-center mb-6">
                            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-lasec-primary to-lasec-secondary rounded-full mb-4">
                                <span class="text-4xl">üìÑ</span>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800">Envie o Desenho T√©cnico</h2>
                            <p class="text-gray-500 mt-2">O agente LASEC ir√° extrair automaticamente todas as informa√ß√µes do PDF</p>
                        </div>

                        <!-- Drop Zone -->
                        <div id="dropZone"
                             ondrop="handleDrop(event)"
                             ondragover="handleDragOver(event)"
                             ondragleave="handleDragLeave(event)"
                             onclick="document.getElementById('pdfInput').click()"
                             class="border-4 border-dashed border-blue-300 rounded-2xl p-12 text-center cursor-pointer hover:border-lasec-primary hover:bg-blue-50 transition-all duration-300">

                            <div id="dropContent">
                                <div class="text-6xl mb-4">üìÅ</div>
                                <p class="text-xl font-semibold text-gray-700 mb-2">Arraste o PDF aqui</p>
                                <p class="text-gray-500 mb-4">ou clique para selecionar</p>
                                <span class="inline-block bg-lasec-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
                                    Selecionar PDF
                                </span>
                                <p class="text-xs text-gray-400 mt-4">Formatos aceitos: PDF, DWG, DXF, STEP</p>
                            </div>

                            <div id="filePreview" class="hidden">
                                <div class="text-6xl mb-4">‚úÖ</div>
                                <p id="fileName" class="text-xl font-semibold text-lasec-success mb-2"></p>
                                <p class="text-gray-500">Arquivo carregado com sucesso</p>
                            </div>
                        </div>

                        <input type="file" id="pdfInput" accept=".pdf,.dwg,.dxf,.step,.stp" class="hidden" onchange="handleFileSelect(event)">

                        <!-- Bot√£o Processar -->
                        <div id="processSection" class="hidden mt-6">
                            <div class="flex gap-4 justify-center">
                                <button onclick="processarDesenho()" class="bg-gradient-to-r from-lasec-primary to-lasec-secondary text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-xl transition flex items-center">
                                    <span class="mr-3 text-2xl">ü§ñ</span>
                                    Processar com Agente LASEC
                                </button>
                                <button onclick="limparArquivo()" class="bg-gray-200 text-gray-700 px-6 py-4 rounded-xl font-semibold hover:bg-gray-300 transition">
                                    Trocar Arquivo
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- √ÅREA DE PROCESSAMENTO (oculta inicialmente) -->
                    <div id="processingArea" class="hidden">
                        <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                            <div class="flex items-center justify-center">
                                <div class="animate-spin rounded-full h-16 w-16 border-4 border-lasec-primary border-t-transparent mr-4"></div>
                                <div>
                                    <p class="text-xl font-bold text-gray-800">Analisando desenho...</p>
                                    <p id="processingStatus" class="text-gray-500">Extraindo informa√ß√µes do PDF</p>
                                </div>
                            </div>
                            <div class="mt-6 bg-gray-100 rounded-lg p-4">
                                <div class="flex items-center text-sm text-gray-600 mb-2">
                                    <span class="mr-2">‚úÖ</span> Lendo arquivo PDF
                                </div>
                                <div id="step2" class="flex items-center text-sm text-gray-400 mb-2">
                                    <span class="mr-2">‚è≥</span> Identificando dimens√µes e toler√¢ncias
                                </div>
                                <div id="step3" class="flex items-center text-sm text-gray-400 mb-2">
                                    <span class="mr-2">‚è≥</span> Detectando material especificado
                                </div>
                                <div id="step4" class="flex items-center text-sm text-gray-400 mb-2">
                                    <span class="mr-2">‚è≥</span> Calculando opera√ß√µes CNC necess√°rias
                                </div>
                                <div id="step5" class="flex items-center text-sm text-gray-400">
                                    <span class="mr-2">‚è≥</span> Gerando or√ßamento
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- DADOS EXTRA√çDOS (oculta inicialmente) -->
                    <div id="extractedData" class="hidden">
                        <div class="bg-gradient-to-r from-green-500 to-green-400 text-white rounded-2xl p-6 mb-8">
                            <div class="flex items-center">
                                <span class="text-4xl mr-4">‚úÖ</span>
                                <div>
                                    <h3 class="text-xl font-bold">Dados Extra√≠dos com Sucesso!</h3>
                                    <p class="opacity-90">Revise e ajuste se necess√°rio antes de gerar o or√ßamento</p>
                                </div>
                            </div>
                        </div>

                        <div class="grid lg:grid-cols-3 gap-8">
                            <!-- Coluna Esquerda - Dados Extra√≠dos -->
                            <div class="lg:col-span-2 space-y-6">

                                <!-- Dados do Cliente -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                        <span class="w-8 h-8 bg-lasec-primary text-white rounded-lg flex items-center justify-center mr-3">üë§</span>
                                        Cliente
                                    </h3>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Cliente</label>
                                            <select id="orcCliente" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                                <option value="">Selecione</option>
                                                <option value="BBOX">BBOX</option>
                                                <option value="LIVENZA">LIVENZA</option>
                                                <option value="RFS">RFS</option>
                                                <option value="MICROGEAR">MICROGEAR</option>
                                                <option value="LASEC">LASEC (Interno)</option>
                                                <option value="OUTRO">Outro</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Quantidade</label>
                                            <input type="number" id="orcQuantidade" value="1" min="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                        </div>
                                    </div>
                                </div>

                                <!-- Dados Extra√≠dos da Pe√ßa -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                            <span class="w-8 h-8 bg-lasec-secondary text-white rounded-lg flex items-center justify-center mr-3">‚öôÔ∏è</span>
                                            Dados da Pe√ßa (Extra√≠do do PDF)
                                        </h3>
                                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold">Auto-detectado</span>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Descri√ß√£o</label>
                                            <input type="text" id="orcDescricao" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary bg-yellow-50">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">C√≥digo da Pe√ßa</label>
                                            <input type="text" id="orcCodigo" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary mono bg-yellow-50">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Revis√£o</label>
                                            <input type="text" id="orcRevisao" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary bg-yellow-50">
                                        </div>
                                    </div>
                                </div>

                                <!-- Material Extra√≠do -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                            <span class="w-8 h-8 bg-lasec-success text-white rounded-lg flex items-center justify-center mr-3">üìê</span>
                                            Material e Dimens√µes
                                        </h3>
                                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold">Auto-detectado</span>
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Material</label>
                                            <input type="text" id="orcMaterial" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary bg-yellow-50">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Pre√ßo/kg (R$)</label>
                                            <input type="number" id="orcPrecoKg" step="0.01" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                        </div>
                                    </div>
                                    <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                                        <p class="text-sm font-medium text-gray-700 mb-3">Dimens√µes do Bruto (mm)</p>
                                        <div class="grid grid-cols-3 gap-4">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Di√¢metro</label>
                                                <input type="number" id="orcDimX" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg mono bg-yellow-50">
                                            </div>
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Altura</label>
                                                <input type="number" id="orcDimY" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg mono bg-yellow-50">
                                            </div>
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Comprimento</label>
                                                <input type="number" id="orcDimZ" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg mono bg-yellow-50">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Opera√ß√µes Detectadas -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                            <span class="w-8 h-8 bg-lasec-warning text-white rounded-lg flex items-center justify-center mr-3">üîß</span>
                                            Opera√ß√µes CNC Detectadas
                                        </h3>
                                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold">Auto-detectado</span>
                                    </div>
                                    <div id="operacoesDetectadas" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                        <!-- Preenchido dinamicamente -->
                                    </div>
                                    <div class="mt-4 grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">M√°quina Principal</label>
                                            <select id="orcMaquina" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary">
                                                <option value="TORNO_CNC">Torno CNC</option>
                                                <option value="CENTRO_USINAGEM">Centro de Usinagem</option>
                                                <option value="TORNO_CONVENCIONAL">Torno Convencional</option>
                                                <option value="FRESA_CONVENCIONAL">Fresa Convencional</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Tempo Estimado (min)</label>
                                            <input type="number" id="orcTempoUsinagem" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary bg-yellow-50">
                                        </div>
                                    </div>
                                </div>

                                <!-- Toler√¢ncias e Observa√ß√µes -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                        <span class="w-8 h-8 bg-purple-500 text-white rounded-lg flex items-center justify-center mr-3">üìã</span>
                                        Toler√¢ncias e Observa√ß√µes
                                    </h3>
                                    <div id="toleranciasExtraidas" class="mb-4 p-4 bg-gray-50 rounded-lg">
                                        <!-- Preenchido dinamicamente -->
                                    </div>
                                    <textarea id="orcObservacoes" rows="3" placeholder="Observa√ß√µes adicionais..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lasec-primary"></textarea>
                                </div>
                            </div>

                            <!-- Coluna Direita - Resumo e A√ß√µes -->
                            <div class="space-y-6">
                                <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-4">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4">üìä Or√ßamento Calculado</h3>

                                    <div class="space-y-3 text-sm">
                                        <div class="flex justify-between py-2 border-b">
                                            <span class="text-gray-600">Pe√ßa:</span>
                                            <span id="resumoPeca" class="font-semibold">-</span>
                                        </div>
                                        <div class="flex justify-between py-2 border-b">
                                            <span class="text-gray-600">Material:</span>
                                            <span id="resumoMaterial" class="font-semibold">-</span>
                                        </div>
                                        <div class="flex justify-between py-2 border-b">
                                            <span class="text-gray-600">Quantidade:</span>
                                            <span id="resumoQtd" class="font-semibold">1</span>
                                        </div>
                                        <div class="flex justify-between py-2 border-b">
                                            <span class="text-gray-600">Tempo Usinagem:</span>
                                            <span id="resumoTempo" class="font-semibold">-</span>
                                        </div>
                                    </div>

                                    <hr class="my-4">

                                    <div class="space-y-2 text-sm mb-4">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Custo Material:</span>
                                            <span id="custoMaterial" class="font-mono">R$ --</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Custo Usinagem:</span>
                                            <span id="custoUsinagem" class="font-mono">R$ --</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Custo Setup:</span>
                                            <span id="custoSetup" class="font-mono">R$ --</span>
                                        </div>
                                    </div>

                                    <div class="bg-gradient-to-r from-lasec-primary to-lasec-secondary text-white rounded-xl p-4 text-center">
                                        <p class="text-sm opacity-80">Pre√ßo de Venda</p>
                                        <p id="resumoValor" class="text-3xl font-bold">R$ --,--</p>
                                        <p id="precoUnitario" class="text-sm opacity-80 mt-1"></p>
                                    </div>

                                    <div class="mt-6 space-y-3">
                                        <button onclick="recalcularOrcamento()" class="w-full bg-lasec-success text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition flex items-center justify-center">
                                            <span class="mr-2">üîÑ</span> Recalcular
                                        </button>
                                        <button onclick="gerarDocumentos()" class="w-full bg-lasec-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center">
                                            <span class="mr-2">üìÑ</span> Gerar 6 Documentos
                                        </button>
                                        <button onclick="novoOrcamento()" class="w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition flex items-center justify-center">
                                            <span class="mr-2">‚ûï</span> Novo Or√ßamento
                                        </button>
                                    </div>
                                </div>

                                <!-- Info do Or√ßamento -->
                                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-6 border border-blue-200">
                                    <h4 class="font-bold text-lasec-primary mb-3">üìã Dados do Or√ßamento</h4>
                                    <div id="infoOrcamento">
                                        <!-- Preenchido dinamicamente -->
                                    </div>
                                </div>

                                <!-- Preview do PDF -->
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <h4 class="font-bold text-gray-800 mb-3">üìé Arquivo Anexado</h4>
                                    <div class="bg-gray-100 rounded-lg p-4 flex items-center">
                                        <span class="text-3xl mr-3">üìÑ</span>
                                        <div>
                                            <p id="arquivoNome" class="font-semibold text-gray-800 text-sm"></p>
                                            <p id="arquivoTamanho" class="text-xs text-gray-500"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modo Manual (link discreto) -->
                    <div class="text-center mt-8">
                        <button onclick="mostrarFormularioManual()" class="text-gray-500 hover:text-lasec-primary transition text-sm">
                            Prefere preencher manualmente? Clique aqui
                        </button>
                    </div>

                </div>
            </section>

        </main>
    </div>

    <!-- SCRIPTS -->
    <script>
        // ==========================================
        // NAVEGA√á√ÉO ENTRE SE√á√ïES
        // ==========================================
        function showSection(sectionId) {
            // Esconder todas as se√ß√µes
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.remove('active');
            });

            // Mostrar se√ß√£o selecionada
            document.getElementById(sectionId).classList.add('active');

            // Atualizar sidebar
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('sidebar-active');
            });

            // Ativar link correspondente (se for clicado na sidebar)
            event.target.closest('.sidebar-link')?.classList.add('sidebar-active');

            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Se for dashboard, renderizar gr√°ficos
            if (sectionId === 'dashboard') {
                setTimeout(renderDashboardCharts, 100);
            }
        }

        // ==========================================
        // GR√ÅFICOS DO DASHBOARD
        // ==========================================
        function renderDashboardCharts() {
            Chart.defaults.font.family = 'Inter';
            Chart.defaults.color = '#6b7280';

            // Gr√°fico 1: Or√ßamentos por M√™s
            const ctxMes = document.getElementById('chartOrcamentosMes').getContext('2d');
            new Chart(ctxMes, {
                type: 'line',
                data: {
                    labels: ['Nov 2025', 'Dez 2025', 'Jan 2026'],
                    datasets: [{
                        label: 'Or√ßamentos Criados',
                        data: [3, 7, 5],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // Gr√°fico 2: Distribui√ß√£o por Cliente
            const ctxClientes = document.getElementById('chartClientes').getContext('2d');
            new Chart(ctxClientes, {
                type: 'doughnut',
                data: {
                    labels: ['BBOX', 'LIVENZA', 'RFS', 'LASEC', 'Outros'],
                    datasets: [{
                        data: [4, 3, 2, 2, 4],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }

        // ==========================================
        // FUN√á√ïES DATABASE
        // ==========================================
        function searchDbPiece(code) {
            document.getElementById('searchInputDb').value = code;
            performSearchDb();
        }

        function performSearchDb() {
            document.getElementById('emptyStateDb').classList.add('hidden');
            document.getElementById('resultsDb').classList.remove('hidden');
        }

        // ==========================================
        // TOGGLE FAQ (ACCORDION)
        // ==========================================
        function toggleAccordion(button) {
            const content = button.nextElementSibling;
            const icon = button.querySelector('span:last-child');
            content.classList.toggle('active');
            icon.textContent = content.classList.contains('active') ? '‚àí' : '+';
        }

        // ==========================================
        // FUN√á√ïES UPLOAD PDF - FLUXO PRINCIPAL
        // ==========================================

        let arquivoSelecionado = null;
        let dadosExtraidos = null;

        // ==========================================
        // GEST√ÉO DE CLIENTES E NUMERA√á√ÉO (LASEC)
        // ==========================================
        const LASEC_CLIENTES = {
            // Clientes existentes em D:\lasec\orcamentos\2025\
            existentes: ['BBOX', 'LASEC', 'LIVENZA', 'LUBRISYSTEM', 'MICROGEAR', 'RFS'],
            // Pr√≥ximo n√∫mero de or√ßamento (descoberto automaticamente)
            proximoNumero: 26,  // Baseado em: m√°ximo atual = 025
            // Diret√≥rio base
            diretorioBase: 'D:\\lasec\\orcamentos\\2025'
        };

        // Detectar cliente do nome do arquivo
        function detectarCliente(nomeArquivo) {
            const nomeUpper = nomeArquivo.toUpperCase();

            // Verificar se algum cliente conhecido est√° no nome
            for (const cliente of LASEC_CLIENTES.existentes) {
                if (nomeUpper.includes(cliente)) {
                    return { cliente: cliente, novoCliente: false };
                }
            }

            // Tentar extrair cliente do padr√£o de nome (ex: "CLIENTE_codigo.pdf")
            const match = nomeArquivo.match(/^([A-Za-z]+)[_\-\s]/);
            if (match) {
                const clientePotencial = match[1].toUpperCase();
                if (clientePotencial.length >= 3) {
                    return { cliente: clientePotencial, novoCliente: true };
                }
            }

            return { cliente: '', novoCliente: false };
        }

        // Gerar n√∫mero do or√ßamento formatado
        function getNumeroOrcamento() {
            return String(LASEC_CLIENTES.proximoNumero).padStart(3, '0');
        }

        // Gerar caminho do diret√≥rio
        function getDiretorioOrcamento(cliente, codigoPeca) {
            const numero = getNumeroOrcamento();
            return `${LASEC_CLIENTES.diretorioBase}\\${cliente}\\${numero}_${cliente}_${codigoPeca}`;
        }

        // Drag and Drop handlers
        function handleDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('dropZone').classList.add('border-lasec-primary', 'bg-blue-50');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('dropZone').classList.remove('border-lasec-primary', 'bg-blue-50');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('dropZone').classList.remove('border-lasec-primary', 'bg-blue-50');

            const files = e.dataTransfer.files;
            if (files.length > 0) {
                processarArquivo(files[0]);
            }
        }

        function handleFileSelect(e) {
            const files = e.target.files;
            if (files.length > 0) {
                processarArquivo(files[0]);
            }
        }

        function processarArquivo(file) {
            const extensoesValidas = ['.pdf', '.dwg', '.dxf', '.step', '.stp'];
            const extensao = '.' + file.name.split('.').pop().toLowerCase();

            if (!extensoesValidas.includes(extensao)) {
                alert('Formato n√£o suportado. Use: PDF, DWG, DXF ou STEP');
                return;
            }

            arquivoSelecionado = file;

            // Mostrar preview
            document.getElementById('dropContent').classList.add('hidden');
            document.getElementById('filePreview').classList.remove('hidden');
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('processSection').classList.remove('hidden');
        }

        function limparArquivo() {
            arquivoSelecionado = null;
            document.getElementById('dropContent').classList.remove('hidden');
            document.getElementById('filePreview').classList.add('hidden');
            document.getElementById('processSection').classList.add('hidden');
            document.getElementById('pdfInput').value = '';
        }

        // Processar desenho com "IA"
        function processarDesenho() {
            if (!arquivoSelecionado) {
                alert('Selecione um arquivo primeiro');
                return;
            }

            // Mostrar √°rea de processamento
            document.getElementById('uploadArea').classList.add('hidden');
            document.getElementById('processingArea').classList.remove('hidden');

            // Simular extra√ß√£o de dados (em produ√ß√£o seria uma API)
            simularExtracao();
        }

        function simularExtracao() {
            const steps = ['step2', 'step3', 'step4', 'step5'];
            const statusTexts = [
                'Identificando dimens√µes e toler√¢ncias...',
                'Detectando material especificado...',
                'Calculando opera√ß√µes CNC...',
                'Gerando or√ßamento...'
            ];

            let currentStep = 0;

            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    document.getElementById('processingStatus').textContent = statusTexts[currentStep];
                    document.getElementById(steps[currentStep]).innerHTML =
                        '<span class="mr-2">‚úÖ</span>' + document.getElementById(steps[currentStep]).textContent.substring(2);
                    document.getElementById(steps[currentStep]).classList.remove('text-gray-400');
                    document.getElementById(steps[currentStep]).classList.add('text-gray-600');
                    currentStep++;
                } else {
                    clearInterval(interval);
                    setTimeout(mostrarDadosExtraidos, 500);
                }
            }, 800);
        }

        function mostrarDadosExtraidos() {
            // Detectar cliente do nome do arquivo
            const clienteInfo = detectarCliente(arquivoSelecionado.name);

            // DADOS REAIS extra√≠dos do PDF (exemplo: MICROGEAR 1.34.12.710)
            // Em produ√ß√£o, isso seria feito via OCR/API de extra√ß√£o
            dadosExtraidos = {
                cliente: clienteInfo.cliente || 'MICROGEAR',
                clienteNovo: clienteInfo.novoCliente,
                descricao: 'BUCHA - Pe√ßa escalonada com m√∫ltiplos di√¢metros',
                codigo: '1.34.12.710',
                revisao: 'REV.00',
                material: 'SAE 1045 / SAE 1141',
                peso: 0.870,  // kg extra√≠do do desenho
                dimX: 65,     // √ò externo m√°ximo
                dimY: 44,     // √ò interno principal
                dimZ: 85,     // Comprimento total
                operacoes: [
                    'Faceamento',
                    'Desbaste Externo',
                    'Desbaste Interno',
                    'Acabamento √ò41.99 (N7)',
                    'Acabamento √ò57.97 (N7)',
                    'Acabamento Interno (N8)',
                    'Chanfro 30¬∞',
                    'Chanfro 1x45¬∞',
                    'Raio R1.6',
                    'Grava√ß√£o MICROGEAR'
                ],
                maquina: 'TORNO_CNC',
                tempoEstimado: 18,  // minutos por pe√ßa (baseado em pe√ßas similares)
                tolerancias: [
                    '√ò41.992/41.967 (H7)',
                    '√ò57.97/57.94',
                    '√ò47.025/47.000',
                    '√ò52.074/52.000',
                    'Batimento ‚åÄ 0.05 A',
                    'Rugosidade N7, N8, N9',
                    'Toler√¢ncia geral ¬±0.2mm'
                ],
                precoKg: 8.50,  // SAE 1045 pre√ßo m√©dio
                numeroOrcamento: getNumeroOrcamento()
            };

            // Preencher campo cliente (detectado ou para sele√ß√£o)
            const selectCliente = document.getElementById('orcCliente');
            if (dadosExtraidos.cliente) {
                // Verificar se cliente existe no select
                let clienteExiste = false;
                for (let i = 0; i < selectCliente.options.length; i++) {
                    if (selectCliente.options[i].value === dadosExtraidos.cliente) {
                        selectCliente.value = dadosExtraidos.cliente;
                        clienteExiste = true;
                        break;
                    }
                }

                // Se √© um cliente novo, adicionar ao select
                if (!clienteExiste && dadosExtraidos.clienteNovo) {
                    const novaOption = document.createElement('option');
                    novaOption.value = dadosExtraidos.cliente;
                    novaOption.textContent = dadosExtraidos.cliente + ' (NOVO)';
                    selectCliente.appendChild(novaOption);
                    selectCliente.value = dadosExtraidos.cliente;
                }
            }

            // Preencher campos
            document.getElementById('orcDescricao').value = dadosExtraidos.descricao;
            document.getElementById('orcCodigo').value = dadosExtraidos.codigo;
            document.getElementById('orcRevisao').value = dadosExtraidos.revisao;
            document.getElementById('orcMaterial').value = dadosExtraidos.material;
            document.getElementById('orcDimX').value = dadosExtraidos.dimX;
            document.getElementById('orcDimZ').value = dadosExtraidos.dimZ;
            document.getElementById('orcMaquina').value = dadosExtraidos.maquina;
            document.getElementById('orcTempoUsinagem').value = dadosExtraidos.tempoEstimado;
            document.getElementById('orcPrecoKg').value = dadosExtraidos.precoKg;

            // Preencher opera√ß√µes detectadas
            const opContainer = document.getElementById('operacoesDetectadas');
            opContainer.innerHTML = dadosExtraidos.operacoes.map(op =>
                `<span class="bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium">${op}</span>`
            ).join('');

            // Preencher toler√¢ncias
            const tolContainer = document.getElementById('toleranciasExtraidas');
            tolContainer.innerHTML = dadosExtraidos.tolerancias.map(tol =>
                `<div class="flex items-center text-sm mb-1"><span class="text-lasec-primary mr-2">‚Ä¢</span>${tol}</div>`
            ).join('');

            // Arquivo info
            document.getElementById('arquivoNome').textContent = arquivoSelecionado.name;
            document.getElementById('arquivoTamanho').textContent = formatFileSize(arquivoSelecionado.size);

            // Mostrar n√∫mero do or√ßamento e diret√≥rio
            atualizarInfoOrcamento();

            // Calcular or√ßamento
            calcularOrcamentoAutomatico();

            // Mostrar dados extra√≠dos
            document.getElementById('processingArea').classList.add('hidden');
            document.getElementById('extractedData').classList.remove('hidden');
        }

        function atualizarInfoOrcamento() {
            const cliente = document.getElementById('orcCliente').value || 'CLIENTE';
            const codigo = document.getElementById('orcCodigo').value || 'CODIGO';
            const numero = getNumeroOrcamento();
            const diretorio = getDiretorioOrcamento(cliente, codigo);

            // Atualizar display do n√∫mero e diret√≥rio (se existir elemento)
            const infoOrc = document.getElementById('infoOrcamento');
            if (infoOrc) {
                const clienteNovo = dadosExtraidos?.clienteNovo;
                infoOrc.innerHTML = `
                    <div class="text-sm space-y-1">
                        <div class="flex justify-between">
                            <span class="text-gray-500">Or√ßamento:</span>
                            <span class="font-bold text-lasec-primary">${numero}/2025</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-500">Cliente:</span>
                            <span class="font-semibold">${cliente} ${clienteNovo ? '<span class="bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded">NOVO</span>' : ''}</span>
                        </div>
                        <div class="mt-2 p-2 bg-gray-100 rounded text-xs font-mono break-all">
                            ${diretorio}
                        </div>
                    </div>
                `;
            }
        }

        // ==========================================
        // PAR√ÇMETROS LASEC 2025 (Diss√≠dio +6.4%)
        // ==========================================
        const LASEC_PARAMS = {
            // Hora-m√°quina por tipo
            horaMaquina: {
                'TORNO_CNC': 88.41,           // GL280/GL280M
                'TORNO_CONVENCIONAL': 75.00,  // GL240
                'CENTRO_USINAGEM': 111.47,    // Discovery 760 3-eixos
                'CENTRO_4EIXOS': 139.47,      // Discovery 4-eixos
                'DOOSAN': 111.81              // Doosan Lynx 220LM
            },
            // Setup por m√°quina (horas)
            setupHoras: {
                'TORNO_CNC': 0.5,
                'TORNO_CONVENCIONAL': 0.5,
                'CENTRO_USINAGEM': 1.0,
                'CENTRO_4EIXOS': 1.0,
                'DOOSAN': 1.5
            },
            // Custos indiretos e markup
            CIF: 0.58,        // 58% sobre (Setup + MOD)
            PERDAS: 0.02,     // 2%
            MARKUP: 0.35,     // 35%
            IMPOSTOS: 0.10    // 10% Simples Nacional
        };

        function calcularOrcamentoAutomatico() {
            const quantidade = parseInt(document.getElementById('orcQuantidade').value) || 1;
            const precoKg = parseFloat(document.getElementById('orcPrecoKg').value) || 8.50;
            const dimX = parseFloat(document.getElementById('orcDimX').value) || 25;
            const dimZ = parseFloat(document.getElementById('orcDimZ').value) || 80;
            const tempoUsinagem = parseFloat(document.getElementById('orcTempoUsinagem').value) || 30;
            const maquina = document.getElementById('orcMaquina').value || 'TORNO_CNC';

            // C√°lculo do peso (cilindro em kg)
            const volume = Math.PI * Math.pow(dimX/2, 2) * dimZ / 1000000000; // m¬≥
            const densidade = 7850; // kg/m¬≥ (a√ßo)
            const peso = volume * densidade; // kg

            // Custo do material
            const custoMaterial = peso * precoKg * quantidade;

            // Taxa hora-m√°quina LASEC
            const taxaHora = LASEC_PARAMS.horaMaquina[maquina] || 88.41;
            const setupHoras = LASEC_PARAMS.setupHoras[maquina] || 0.5;

            // Setup (fixo por projeto)
            const custoSetup = setupHoras * taxaHora;

            // MOD - M√£o de Obra Direta
            const custoMOD = (tempoUsinagem / 60) * taxaHora * quantidade;

            // CIF - 58% sobre (Setup + MOD)
            const custoCIF = (custoSetup + custoMOD) * LASEC_PARAMS.CIF;

            // Custo total de fabrica√ß√£o
            const custoTotal = custoMaterial + custoSetup + custoMOD + custoCIF;

            // Aplicar perdas (2%)
            const custoComPerdas = custoTotal * (1 + LASEC_PARAMS.PERDAS);

            // Aplicar markup (35%)
            const precoSemImposto = custoComPerdas * (1 + LASEC_PARAMS.MARKUP);

            // Aplicar impostos (10% Simples Nacional)
            const precoNFe = precoSemImposto * (1 + LASEC_PARAMS.IMPOSTOS);

            // Atualizar display
            document.getElementById('resumoPeca').textContent = document.getElementById('orcDescricao').value;
            document.getElementById('resumoMaterial').textContent = document.getElementById('orcMaterial').value;
            document.getElementById('resumoQtd').textContent = quantidade;
            document.getElementById('resumoTempo').textContent = tempoUsinagem + ' min';

            document.getElementById('custoMaterial').textContent = 'R$ ' + custoMaterial.toFixed(2);
            document.getElementById('custoUsinagem').textContent = 'R$ ' + custoMOD.toFixed(2);
            document.getElementById('custoSetup').textContent = 'R$ ' + custoSetup.toFixed(2);

            document.getElementById('resumoValor').textContent = 'R$ ' + precoNFe.toFixed(2).replace('.', ',');
            document.getElementById('precoUnitario').textContent = 'Unit√°rio: R$ ' + (precoNFe/quantidade).toFixed(2);

            // Guardar dados para gera√ß√£o de documentos
            window.orcamentoCalculado = {
                quantidade,
                custoMaterial,
                custoSetup,
                custoMOD,
                custoCIF,
                custoTotal,
                precoNFe,
                precoUnitario: precoNFe / quantidade,
                maquina,
                taxaHora,
                tempoUsinagem
            };
        }

        function recalcularOrcamento() {
            calcularOrcamentoAutomatico();
            const orc = window.orcamentoCalculado;
            alert(`OR√áAMENTO RECALCULADO (Padr√£o LASEC 2025)

CUSTOS:
‚Ä¢ Material: R$ ${orc.custoMaterial.toFixed(2)}
‚Ä¢ Setup: R$ ${orc.custoSetup.toFixed(2)}
‚Ä¢ MOD: R$ ${orc.custoMOD.toFixed(2)}
‚Ä¢ CIF (58%): R$ ${orc.custoCIF.toFixed(2)}
‚Ä¢ Custo Total: R$ ${orc.custoTotal.toFixed(2)}

PRECIFICA√á√ÉO:
‚Ä¢ + Perdas (2%): aplicado
‚Ä¢ + Markup (35%): aplicado
‚Ä¢ + Impostos (10%): aplicado

PRE√áO NFe: R$ ${orc.precoNFe.toFixed(2)}
Unit√°rio: R$ ${orc.precoUnitario.toFixed(2)}`);
        }

        function gerarDocumentos() {
            const orc = window.orcamentoCalculado;
            if (!orc) {
                alert('Calcule o or√ßamento primeiro!');
                return;
            }

            const cliente = document.getElementById('orcCliente').value || 'CLIENTE';
            const codigo = document.getElementById('orcCodigo').value || 'CODIGO';
            const numero = getNumeroOrcamento();
            const diretorio = getDiretorioOrcamento(cliente, codigo);

            // Verificar se √© cliente novo
            const clienteNovo = !LASEC_CLIENTES.existentes.includes(cliente);
            const msgCliente = clienteNovo ? `\n‚ö†Ô∏è CLIENTE NOVO: Ser√° criado diret√≥rio ${cliente}` : '';

            alert(`GERANDO 6 DOCUMENTOS LASEC

üìã OR√áAMENTO: ${numero}/2025
üë§ CLIENTE: ${cliente}${msgCliente}
üì¶ C√ìDIGO: ${codigo}

LOTES PADR√ÉO: 10, 30, 50, 100, 200 pe√ßas
(Recomendado: Lote 100)

DOCUMENTOS:
1. PROCESSO_FABRICACAO (Gate de Aprova√ß√£o)
2. ESTUDO_CUSTO_FABRICACAO
3. ESTUDO_PRECO_VENDA_NFE
4. ANALISE_VIABILIDADE_LOTES
5. ANALISE_BREAK_EVEN
6. PROPOSTA_COMERCIAL

üìÅ DIRET√ìRIO:
${diretorio}

Templates: D:\\IA MALELO\\templates\\`);

            // Incrementar n√∫mero para pr√≥ximo or√ßamento
            LASEC_CLIENTES.proximoNumero++;
        }

        function novoOrcamento() {
            // Reset tudo
            arquivoSelecionado = null;
            dadosExtraidos = null;

            document.getElementById('extractedData').classList.add('hidden');
            document.getElementById('processingArea').classList.add('hidden');
            document.getElementById('uploadArea').classList.remove('hidden');

            limparArquivo();

            // Reset steps
            ['step2', 'step3', 'step4', 'step5'].forEach(id => {
                const el = document.getElementById(id);
                el.innerHTML = '<span class="mr-2">‚è≥</span>' + el.textContent.substring(2);
                el.classList.add('text-gray-400');
                el.classList.remove('text-gray-600');
            });
        }

        function mostrarFormularioManual() {
            alert('Modo manual: Em desenvolvimento.\n\nPor enquanto, use o upload de PDF para extra√ß√£o autom√°tica.');
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        // ==========================================
        // INICIALIZA√á√ÉO
        // ==========================================
        document.addEventListener('DOMContentLoaded', function() {
            // Ativar primeira op√ß√£o da sidebar
            document.querySelector('.sidebar-link').classList.add('sidebar-active');

            // Listener para quantidade (recalcular)
            const qtdField = document.getElementById('orcQuantidade');
            if (qtdField) {
                qtdField.addEventListener('change', function() {
                    if (dadosExtraidos) {
                        calcularOrcamentoAutomatico();
                        atualizarInfoOrcamento();
                    }
                });
            }

            // Listener para cliente (atualizar diret√≥rio)
            const clienteField = document.getElementById('orcCliente');
            if (clienteField) {
                clienteField.addEventListener('change', function() {
                    if (dadosExtraidos) atualizarInfoOrcamento();
                });
            }

            // Listener para c√≥digo da pe√ßa (atualizar diret√≥rio)
            const codigoField = document.getElementById('orcCodigo');
            if (codigoField) {
                codigoField.addEventListener('change', function() {
                    if (dadosExtraidos) atualizarInfoOrcamento();
                });
                codigoField.addEventListener('input', function() {
                    if (dadosExtraidos) atualizarInfoOrcamento();
                });
            }
        });
    </script>

</body>
</html>